(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{3468:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center q-mx-auto",staticStyle:{"max-width":"1000px"}},[n("div",{staticClass:"row full-width justify-around"},[t.stakedInfo?t.stakedValue?t.stakedValue?n("div",{staticClass:"col-xs-10 col-sm-5 q-mb-lg"},[n("unstake-card")],1):t._e():n("div",{staticClass:"col-xs-10 col-sm-5 q-mb-lg"},[t.userCanStake?n("stake-card"):t._e()],1):n("div",{staticClass:"col-xs-10 col-sm-5 q-mb-lg"},[n("q-btn",{attrs:{color:"primary",label:"register"},on:{click:function(e){return t.registerUser()}}}),t._m(0)],1)]),"unStaking"===t.stakeStatus?n("unstake-status"):t._e()],1)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",[n("small",[t._v("(you are not register yet)")])])}],c=n("c973"),i=n.n(c),o=n("ded3"),r=n.n(o),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h5 q-pa-md q-mx-auto",staticStyle:{width:"70%"}},[t._v("\n        Stake "+t._s(t.userStakeRequirement)+" XPR\n      ")]),n("p",[t._v("To be eligible to Claim your weekly FREEOS tokens")]),n("div",{staticClass:"q-ma-md q-mt-lg"},[n("q-btn",{attrs:{color:t.isMeetStakeMinRequirment()?"primary":"dark",disable:!t.isMeetStakeMinRequirment(),"no-caps":"",label:"Stake"},on:{click:function(){return t.onStake()}}})],1)])],1),n("p",{staticClass:"text-center q-my-lg text-h6"},[t._v("Current Staking Requirement = "+t._s(t.userStakeRequirement)+" XPR")]),t.isMeetStakeMinRequirment()?t._e():n("p",{staticClass:"text-negative text-bold"},[t._v("You currently do not have enough XPR to stake.")]),t.isMeetStakeMinRequirment()?t._e():n("p",[t._v("\n    Please "),n("router-link",{attrs:{to:{name:"transfer"}}},[t._v("tranfer")]),t._v(" an additional "+t._s(t.shortageAmount)+" in order to stake.\n  ")],1)],1)},l=[],d=(n("4fad"),n("ddb0"),n("2f62")),m=n("3f9b"),f={computed:r()(r()(r()({},Object(d["d"])({accountName:t=>t.account.accountName,stakedInfo:t=>t.account.claimInfo.stakedInfo,userCount:t=>t.account.claimInfo.statistics.usercount,stakeRequirmentList:t=>t.account.claimInfo.stakeRequirmentList})),Object(d["c"])("account",["claimInfo"])),{},{usersCurrentStakeReq(){const t=this.stakeRequirmentList.findIndex((t,e)=>{if(this.userCount<t.threshold)return e});return this.stakeRequirmentList[t-1]},userStakeRequirement(){if(!this.stakedInfo)return"";const t=String.fromCharCode(this.stakedInfo.account_type);if(!t)return"";let e=null;for(const[n,a]of Object.entries(this.usersCurrentStakeReq)){const s=n.split("_");if(s[1]===t){e=a;break}}return e},shortageAmount(){if(!this.userStakeRequirement||!this.claimInfo.liquidInAccount)return"";const t=Object(m["b"])(this.claimInfo.liquidInAccount.balance),e=this.userStakeRequirement-Object(m["a"])(this.claimInfo.liquidInAccount.balance);return`${e} ${t}`}}),methods:r()(r()(r()({},Object(d["b"])("stake",["actionStake"])),Object(d["b"])("account",["getAccountInfo"])),{},{onStake(){var t=this;return i()((function*(){const e=parseFloat(t.userStakeRequirement).toFixed(4)+" "+Object(m["b"])(t.claimInfo.liquidInAccount.balance),n={accountName:t.accountName,amount:e};yield t.actionStake(n),t.getAccountInfo()}))()},isMeetStakeMinRequirment(){return!!this.claimInfo.liquidInAccount&&Object(m["a"])(this.claimInfo.liquidInAccount.balance)>=this.userStakeRequirement}})},k=f,b=n("2877"),q=n("f09f"),p=n("a370"),h=n("9c40"),v=n("eebe"),I=n.n(v),S=Object(b["a"])(k,u,l,!1,null,null,null),C=S.exports;I()(S,"components",{QCard:q["a"],QCardSection:p["a"],QBtn:h["a"]});var _=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-card",[n("q-card-section",{staticClass:"text-center"},[n("div",{staticClass:"text-h5 q-pa-md q-mx-auto"},[t._v("\n      Unstake "+t._s(t.stakedAmount)+"\n    ")]),n("div",{staticClass:"text-h5 text-uppercase text-bold text-red-5"},[t._v("\n      WARNING!\n    ")]),n("p",{staticClass:"text-red-5"},[t._v("You will be unable to Claim further FREEOS tokens"),n("br"),t._v("\n      Unstaking will take 10 days\n    ")]),n("div",{staticClass:"q-ma-md q-mt-lg"},[n("q-btn",{attrs:{color:"primary","no-caps":"",label:"Unstake"},on:{click:function(e){return t.onUnstake()}}})],1)])],1)},g=[],x={computed:r()(r()(r()({},Object(d["d"])({accountName:t=>t.account.accountName})),Object(d["c"])("account",["claimInfo"])),{},{stakedAmount(){return this.claimInfo.stakedInfo.stake}}),methods:r()(r()(r()({},Object(d["b"])("unstake",["actionUnstake"])),Object(d["b"])("account",["getAccountInfo"])),{},{onUnstake(){var t=this;return i()((function*(){yield t.actionUnstake(t.accountName),t.getAccountInfo()}))()}})},R=x,j=Object(b["a"])(R,_,g,!1,null,null,null),O=j.exports;I()(j,"components",{QCard:q["a"],QCardSection:p["a"],QBtn:h["a"]});var y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"q-ma-lg",staticStyle:{width:"90%",margin:"auto"}},[n("p",[t._v("You have 1 unstaking operation in process")]),n("q-card",{staticClass:"q-ma-lg"},[n("q-card-section",[n("div",{staticClass:"full-width q-pl-md q-pr-md",staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[n("span",[t._v("Unstake 20 EOS for asdfwerok from 06.09.2020")]),n("q-btn",{attrs:{flat:"",color:"negative","no-caps":"",label:"Cancel"}})],1)])],1)],1)},A=[],w={},U=Object(b["a"])(w,y,A,!1,null,null,null),N=U.exports;I()(U,"components",{QCard:q["a"],QCardSection:p["a"],QBtn:h["a"]});var E={name:"StakeAndUnstake",data(){return{stakeStatus:null}},components:{StakeCard:C,UnstakeCard:O,UnstakeStatus:N},computed:r()(r()({},Object(d["d"])({stakedInfo:t=>t.account.claimInfo.stakedInfo,liquidInAccount:t=>t.account.claimInfo.liquidInAccount,accountName:t=>t.account.accountName})),{},{stakedValue(){return Object(m["a"])(this.stakedInfo.stake)>0}}),methods:r()(r()(r()({},Object(d["b"])("stake",["onRegisterUser"])),Object(d["b"])("account",["getAccountInfo"])),{},{userCanStake(){return Object(m["a"])(this.liquidInAccount.balance)>0},registerUser(){var t=this;return i()((function*(){yield t.onRegisterUser(t.accountName),t.getAccountInfo()}))()}})},M=E,Q=Object(b["a"])(M,a,s,!1,null,null,null);e["default"]=Q.exports;I()(Q,"components",{QBtn:h["a"]})},"3f9b":function(t,e,n){"use strict";function a(t){if(!t||"object"===typeof t)return 0;const e=t.split(" ")[0];return parseFloat(e)}function s(t){if(!t)return"";const e=t.split(" ")[1];return e}n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}))}}]);