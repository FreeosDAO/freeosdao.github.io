(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{3468:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-center q-mx-auto",staticStyle:{"max-width":"1000px"}},[a("div",{staticClass:"row full-width justify-around"},[t.stakedInfo?t.stakedValue?t.stakedValue?a("div",{staticClass:"col-xs-10 col-sm-5 q-mb-lg"},[a("unstake-card")],1):t._e():a("div",{staticClass:"col-xs-10 col-sm-5 q-mb-lg"},[t.userCanStake?a("stake-card"):t._e()],1):a("div",{staticClass:"col-xs-10 col-sm-5 q-mb-lg"},[a("q-btn",{attrs:{color:"primary",label:"register"},on:{click:function(e){return t.registerUser()}}}),t._m(0)],1)]),"unStaking"===t.stakeStatus?a("unstake-status"):t._e()],1)},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("small",[t._v("(you are not registered yet)")])])}],s=a("c973"),o=a.n(s),i=a("ded3"),r=a.n(i),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h5 q-pa-md q-mx-auto",staticStyle:{width:"70%"}},[t._v("\n        Stake "+t._s(t.userStakeRequirement)+" XPR\n      ")]),a("p",[t._v("To be eligible to Claim your weekly FREEOS tokens")]),a("div",{staticClass:"q-ma-md q-mt-lg"},[a("q-btn",{attrs:{color:t.isMeetStakeMinRequirment()?"primary":"dark",disable:!t.isMeetStakeMinRequirment(),"no-caps":"",label:"Stake"},on:{click:function(){return t.onStake()}}})],1)])],1),a("p",{staticClass:"text-center q-my-lg text-h6"},[t._v("Current Staking Requirement = "+t._s(t.userStakeRequirement)+" XPR")]),t.isMeetStakeMinRequirment()?t._e():a("p",{staticClass:"text-negative text-bold"},[t._v("You currently do not have enough XPR to stake.")]),t.isMeetStakeMinRequirment()?t._e():a("p",[t._v("\n    Please "),a("router-link",{attrs:{to:{name:"transfer"}}},[t._v("transfer")]),t._v(" an additional "+t._s(t.shortageAmount)+" in order to stake.\n  ")],1)],1)},l=[],d=(a("4fad"),a("ddb0"),a("2f62")),m=a("3f9b"),k={computed:r()(r()(r()({},Object(d["d"])({accountName:t=>t.account.accountName,stakedInfo:t=>t.account.claimInfo.stakedInfo,userCount:t=>t.account.claimInfo.statistics.usercount,stakeRequirmentList:t=>t.account.claimInfo.stakeRequirmentList})),Object(d["c"])("account",["claimInfo"])),{},{usersCurrentStakeReq(){const t=this.stakeRequirmentList.findIndex((t,e)=>{if(this.userCount<t.threshold)return e});return this.stakeRequirmentList[t-1]},userStakeRequirement(){if(!this.stakedInfo)return"";const t=String.fromCharCode(this.stakedInfo.account_type);if(!t)return"";let e=null;for(const[a,n]of Object.entries(this.usersCurrentStakeReq)){const c=a.split("_");if(c[1]===t){e=n;break}}return e},shortageAmount(){if(!this.userStakeRequirement||!this.claimInfo.liquidInAccount)return"";const t=Object(m["b"])(this.claimInfo.liquidInAccount.balance),e=this.userStakeRequirement-Object(m["a"])(this.claimInfo.liquidInAccount.balance);return`${e} ${t}`}}),methods:r()(r()(r()({},Object(d["b"])("stake",["actionStake"])),Object(d["b"])("account",["getAccountInfo"])),{},{onStake(){var t=this;return o()((function*(){const e=parseFloat(t.userStakeRequirement).toFixed(4)+" "+Object(m["b"])(t.claimInfo.liquidInAccount.balance),a={accountName:t.accountName,amount:e};yield t.actionStake(a),t.getAccountInfo()}))()},isMeetStakeMinRequirment(){return!!this.claimInfo.liquidInAccount&&Object(m["a"])(this.claimInfo.liquidInAccount.balance)>=this.userStakeRequirement}})},f=k,b=a("2877"),q=a("f09f"),h=a("a370"),p=a("9c40"),I=a("eebe"),v=a.n(I),S=Object(b["a"])(f,u,l,!1,null,null,null),C=S.exports;v()(S,"components",{QCard:q["a"],QCardSection:h["a"],QBtn:p["a"]});var _=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-card",[a("q-card-section",{staticClass:"text-center"},[a("div",{staticClass:"text-h5 q-pa-md q-mx-auto"},[t._v("\n      Unstake "+t._s(t.stakedAmount)+"\n    ")]),a("div",{staticClass:"text-h5 text-uppercase text-bold text-red-5"},[t._v("\n      WARNING!\n    ")]),a("p",{staticClass:"text-red-5"},[t._v("You will be unable to Claim further FREEOS tokens"),a("br"),t._v("\n      Unstaking will take 10 days\n    ")]),a("div",{staticClass:"q-ma-md q-mt-lg"},[a("q-btn",{attrs:{color:"primary","no-caps":"",label:"Unstake"},on:{click:function(e){return t.onUnstake()}}})],1)])],1)},g=[],x={computed:r()(r()(r()({},Object(d["d"])({accountName:t=>t.account.accountName})),Object(d["c"])("account",["claimInfo"])),{},{stakedAmount(){return this.claimInfo.stakedInfo.stake}}),methods:r()(r()(r()({},Object(d["b"])("stake",["actionUnstake"])),Object(d["b"])("account",["getAccountInfo"])),{},{onUnstake(){var t=this;return o()((function*(){yield t.actionUnstake(t.accountName),t.getAccountInfo()}))()}})},O=x,j=Object(b["a"])(O,_,g,!1,null,null,null),R=j.exports;v()(j,"components",{QCard:q["a"],QCardSection:h["a"],QBtn:p["a"]});var A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"q-ma-lg",staticStyle:{width:"90%",margin:"auto"}},[a("p",[t._v("You have 1 unstaking operation in process")]),a("q-card",{staticClass:"q-ma-lg"},[a("q-card-section",[a("div",{staticClass:"full-width q-pl-md q-pr-md",staticStyle:{display:"flex","justify-content":"space-between","align-items":"center"}},[a("span",[t._v("Unstake 20 EOS for asdfwerok from 06.09.2020")]),a("q-btn",{attrs:{flat:"",color:"negative","no-caps":"",label:"Cancel"}})],1)])],1)],1)},y=[],w={computed:r()(r()(r()({},Object(d["d"])({accountName:t=>t.account.accountName})),Object(d["c"])("account",["claimInfo"])),{},{stakedAmount(){return this.claimInfo.stakedInfo.stake}}),methods:r()(r()({},Object(d["b"])("stake",["getUnStakecncl"])),Object(d["b"])("account",["getAccountInfo"])),created(){}},U=w,N=Object(b["a"])(U,A,y,!1,null,null,null),E=N.exports;v()(N,"components",{QCard:q["a"],QCardSection:h["a"],QBtn:p["a"]});var M={name:"StakeAndUnstake",data(){return{stakeStatus:null}},components:{StakeCard:C,UnstakeCard:R,UnstakeStatus:E},computed:r()(r()({},Object(d["d"])({stakedInfo:t=>t.account.claimInfo.stakedInfo,liquidInAccount:t=>t.account.claimInfo.liquidInAccount,accountName:t=>t.account.accountName})),{},{stakedValue(){return Object(m["a"])(this.stakedInfo.stake)>0}}),methods:r()(r()({},Object(d["b"])("account",["getAccountInfo","onRegisterUser"])),{},{userCanStake(){return Object(m["a"])(this.liquidInAccount.balance)>0},registerUser(){var t=this;return o()((function*(){yield t.onRegisterUser(t.accountName),t.getAccountInfo()}))()}})},Q=M,$=Object(b["a"])(Q,n,c,!1,null,null,null);e["default"]=$.exports;v()($,"components",{QBtn:p["a"]})}}]);